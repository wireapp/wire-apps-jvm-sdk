CREATE TABLE IF NOT EXISTS conversation (
  id TEXT NOT NULL,
  domain TEXT NOT NULL,
  team_id TEXT,
  mls_group_id TEXT,
  creation_date TEXT NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id, domain)
);

selectAll:
SELECT *
FROM conversation;

selectByIdAndDomain:
SELECT *
FROM conversation
WHERE id = ? AND domain = ?;

insertWithTeam:
INSERT INTO conversation(id, domain, team_id)
VALUES (?, ?, ?)
ON CONFLICT(id, domain) DO UPDATE SET team_id=excluded.team_id;

insertWithMlsGroupId:
INSERT INTO conversation(id, domain, mls_group_id)
VALUES (?, ?, ?)
ON CONFLICT(id, domain) DO UPDATE SET mls_group_id=excluded.mls_group_id;
